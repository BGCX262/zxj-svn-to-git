<?xml version="1.0" encoding="ISO-8859-1"?>
<pageflow>
	<name>zXTxt</name>
	<helpid>zXTxt_helpid</helpid>
	<htmldebug>zOff</htmldebug>
	<startaction>qryTxt</startaction>
	<propagateqs>zYes</propagateqs>
	<version><![CDATA[V2.2]]></version>
	<lastchange><![CDATA[V1.4:81 - resolve fk in query and listform
V1.4:83 - select all button on list]]></lastchange>
	<baseurl>
		<url><![CDATA[../jsp/zXGPF.jsp]]></url>
		<urltype>zFixed</urltype>
	</baseurl>
	<actions>
		<action type="zQuery">
			<helpid>zXTxt_qryTxt_helpid</helpid>
			<name>qryTxt</name>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[lfTxt]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<entities>
				<item>
					<name>zXTxt</name>
					<entity><![CDATA[zXTxt]]></entity>
					<pk>#qs.-pk</pk>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[All]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<groupbygroup>-zXCrtdWhn</groupbygroup>
					<pkwheregroup><![CDATA[rcvr]]></pkwheregroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zNo</allownew>
					<attrvalues>
						<item>
							<source><![CDATA[#user]]></source>
							<destination><![CDATA[rcvr]]></destination>
						</item>
					</attrvalues>
				</item>
			</entities>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<resolvefk>zYes</resolvefk>
			<distinct>zNo</distinct>
			<searchform>zNo</searchform>
			<outerjoin>zNo</outerjoin>
			<whereclauseonly>zNo</whereclauseonly>
			<querytype>zAll</querytype>
		</action>
		<action type="zListForm">
			<helpid>zXTxt_lfTxt_helpid</helpid>
			<name>lfTxt</name>
			<title>
				<EN><![CDATA[List #entitylabel#]]></EN>
			</title>
			<entityaction>qryTxt</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<url><![CDATA[loDelete]]></url>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<buttons>
				<item>
					<name>zDelete</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[loDelete]]></url>
						<urltype>zAction</urltype>
					</url>
					<label>
						<EN><![CDATA[Delete selected]]></EN>
					</label>
				</item>
				<item>
					<name>MARKREAD</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[loMarkRead]]></url>
						<urltype>zAction</urltype>
					</url>
					<label>
						<EN><![CDATA[Mark selected as read]]></EN>
					</label>
				</item>
			</buttons>
			<refs>
				<item>
					<name>zBack</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[#expr.if( eq(pf.qs("-ss"), "" ), concat("zXMMShow('", pf.qs("-s"), "')"), "javascript:top.window.close();" )]]></url>
						<urltype>zFixed</urltype>
						<frameno>notouch</frameno>
					</url>
					<label>
						<EN><![CDATA[#expr.if( eq(pf.qs("-ss"), "" ), "Back", "Close" )]]></EN>
					</label>
				</item>
				<item>
					<name>SELECTALL</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[javascript:zXTickAll('zXTxt')]]></url>
						<urltype>zFixed</urltype>
						<frameno>notouch</frameno>
					</url>
					<label>
						<EN><![CDATA[Select All]]></EN>
					</label>
				</item>
			</refs>
			<resolvefk>zYes</resolvefk>
			<width>100%</width>
			<qsentity>-e</qsentity>
			<qspk>-pk</qspk>
			<maxrows>150</maxrows>
			<autocheck>zNo</autocheck>
			<multilist>zYes</multilist>
			<class><![CDATA[#expr.if(isnull(bo.attr('zXTxt','rdWhn')),'zxBold','zx')]]></class>
			<addparitytoclass>zYes</addparitytoclass>
			<url>
				<url><![CDATA[#expr.if(isnull(bo.attr('zXTxt','rdWhn')),'dbaMarkRead','efTxt')]]></url>
				<urltype>zAction</urltype>
				<querystring>
					<item>
						<source><![CDATA[#attrvalue.zXTxt.tpe]]></source>
						<destination><![CDATA[-pktt]]></destination>
					</item>
				</querystring>
			</url>
			<resorturl>
				<url><![CDATA[lfTxt]]></url>
				<urltype>zAction</urltype>
			</resorturl>
			<pagingurl>
				<urltype>zAction</urltype>
			</pagingurl>
		</action>
		<action type="zLoopOver">
			<helpid>zXTxt_loDelete_helpid</helpid>
			<name>loDelete</name>
			<entityaction>qryTxt</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[lfTxt]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<refinelist>zYes</refinelist>
			<mustrefine>zYes</mustrefine>
			<transaction>safe</transaction>
			<maxrows>150</maxrows>
			<loopoverrefineerrormsg>
				<EN><![CDATA[No messages selected to be deleted]]></EN>
			</loopoverrefineerrormsg>
			<loopoveraction>
				<action><![CDATA[dbaMultiDelete]]></action>
				<querystring>
					<item>
						<source><![CDATA[#pk]]></source>
						<destination><![CDATA[-pk]]></destination>
					</item>
				</querystring>
			</loopoveraction>
		</action>
		<action type="zDBAction">
			<helpid>zXTxt_dbaMultiDelete_helpid</helpid>
			<name>dbaMultiDelete</name>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<entities>
				<item>
					<name>zXTxt</name>
					<entity><![CDATA[zXTxt]]></entity>
					<pk>#qs.-pk</pk>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[All]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zNo</allownew>
				</item>
			</entities>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<dbactionentity>zXTxt</dbactionentity>
			<reset>zNo</reset>
			<setautomatics>zNo</setautomatics>
			<dbactiontype>zDelete</dbactiontype>
			<erroraction>
			</erroraction>
		</action>
		<action type="zLoopOver">
			<helpid>zXTxt_loMarkRead_helpid</helpid>
			<name>loMarkRead</name>
			<entityaction>qryTxt</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[lfTxt]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<refinelist>zYes</refinelist>
			<mustrefine>zYes</mustrefine>
			<transaction>safe</transaction>
			<maxrows>150</maxrows>
			<loopoverrefineerrormsg>
				<EN><![CDATA[No messages selected to be marked]]></EN>
			</loopoverrefineerrormsg>
			<loopoveraction>
				<action><![CDATA[#expr.if(isnull(bo.attr('zXTxt','rdWhn')),'dbaMultiMarkRead','nlNoMarkRead')]]></action>
				<querystring>
					<item>
						<source><![CDATA[#pk]]></source>
						<destination><![CDATA[-pk]]></destination>
					</item>
				</querystring>
			</loopoveraction>
		</action>
		<action type="zDBAction">
			<helpid>zXTxt_dbaMultiMarkRead_helpid</helpid>
			<name>dbaMultiMarkRead</name>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<entities>
				<item>
					<name>zXTxt</name>
					<entity><![CDATA[zXTxt]]></entity>
					<pk>#qs.-pk</pk>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[rdWhn]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zNo</allownew>
					<attrvalues>
						<item>
							<source><![CDATA[#date]]></source>
							<destination><![CDATA[rdWhn]]></destination>
						</item>
					</attrvalues>
				</item>
			</entities>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<dbactionentity>zXTxt</dbactionentity>
			<reset>zNo</reset>
			<setautomatics>zNo</setautomatics>
			<dbactiontype>zUpdate</dbactiontype>
			<erroraction>
			</erroraction>
		</action>
		<action type="zNull">
			<helpid>zXTxt_nlNoMarkRead_helpid</helpid>
			<name>nlNoMarkRead</name>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
		</action>
		<action type="zDBAction">
			<helpid>zXTxt_dbaMarkRead_helpid</helpid>
			<name>dbaMarkRead</name>
			<entityaction>dbaMultiMarkRead</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[efTxt]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<dbactionentity>zXTxt</dbactionentity>
			<reset>zNo</reset>
			<setautomatics>zNo</setautomatics>
			<dbactiontype>zUpdate</dbactiontype>
			<erroraction>
			</erroraction>
		</action>
		<action type="zEditForm">
			<helpid>zXTxt_efTxt_helpid</helpid>
			<name>efTxt</name>
			<title>
				<EN><![CDATA[#attrvalue.zXTxt.smmry#]]></EN>
			</title>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<entities>
				<item>
					<name>zXTxt</name>
					<entity><![CDATA[zXTxt]]></entity>
					<pk>#qs.-pk</pk>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[All]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<lockgroup>View</lockgroup>
					<visiblegroup>View</visiblegroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zNo</allownew>
				</item>
				<item>
					<name>zXTxtTpe</name>
					<entity><![CDATA[zXTxtTpe]]></entity>
					<pk>#qs.-pktt</pk>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[All]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<visiblegroup>Blank</visiblegroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zNo</allownew>
				</item>
			</entities>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<refs>
				<item>
					<name>zBack</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[lfTxt]]></url>
						<urltype>zAction</urltype>
					</url>
				</item>
				<item>
					<name>zDelete</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[dbaDelete]]></url>
						<urltype>zAction</urltype>
					</url>
					<label>
						<EN><![CDATA[Delete message]]></EN>
					</label>
				</item>
				<item>
					<name>SHOW</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[#expr.director(bo.attr('zXTxtTpe', 'shwURL'))]]></url>
						<urltype>zFixed</urltype>
						<frameno>notouch</frameno>
						<active>#expr.not(isnull(bo.attr('zXTxt','pk')))</active>
					</url>
					<label>
						<EN><![CDATA[Show]]></EN>
					</label>
				</item>
			</refs>
			<editformtype>normal</editformtype>
			<editenhancers>
				<editenhancer>
					<entity>zXTxt</entity>
					<attr>SMMRY</attr>
					<spellcheck>zNo</spellcheck>
					<fklookup>zNo</fklookup>
					<fkadd>zNo</fkadd>
					<editdependencies>
					</editdependencies>
				</editenhancer>
				<editenhancer>
					<entity>zXTxt</entity>
					<attr>tpe</attr>
					<inputClass>zXTxt</inputClass>
					<spellcheck>zNo</spellcheck>
					<fklookup>zNo</fklookup>
					<fkadd>zNo</fkadd>
					<editdependencies>
					</editdependencies>
				</editenhancer>
			</editenhancers>
		</action>
		<action type="zDBAction">
			<helpid>zXTxt_dbaDelete_helpid</helpid>
			<name>dbaDelete</name>
			<entityaction>dbaMultiDelete</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[lfTxt]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<dbactionentity>zXTxt</dbactionentity>
			<reset>zNo</reset>
			<setautomatics>zNo</setautomatics>
			<dbactiontype>zDelete</dbactiontype>
			<erroraction>
			</erroraction>
		</action>
		<action type="zEditForm">
			<helpid>zXTxt_efNew_helpid</helpid>
			<name>efNew</name>
			<title>
				<EN><![CDATA[#entitylabel#]]></EN>
			</title>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<url><![CDATA[cuNew]]></url>
				<urltype>zAction</urltype>
			</formaction>
			<entities>
				<item>
					<name>zXTxtNew</name>
					<entity><![CDATA[zXTxtNew]]></entity>
					<wheregroup>Search</wheregroup>
					<selecteditgroup><![CDATA[All]]></selecteditgroup>
					<selectlistgroup>All</selectlistgroup>
					<visiblegroup>All</visiblegroup>
					<listgroup><![CDATA[Description]]></listgroup>
					<copygroup>All</copygroup>
					<resolvefk>zNo</resolvefk>
					<allownew>zYes</allownew>
				</item>
			</entities>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<buttons>
				<item>
					<name>zSubmit</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<urltype>zAction</urltype>
					</url>
					<label>
						<EN><![CDATA[Send]]></EN>
					</label>
				</item>
			</buttons>
			<refs>
				<item>
					<name>zBack</name>
					<startsubmenu>zNo</startsubmenu>
					<url>
						<url><![CDATA[#expr.if( eq(pf.qs("-ss"), "" ), concat("zXMMShow('", pf.qs("-s"), "')"), "javascript:top.window.close();" )]]></url>
						<urltype>zFixed</urltype>
						<frameno>notouch</frameno>
					</url>
					<label>
						<EN><![CDATA[Cancel]]></EN>
					</label>
				</item>
			</refs>
			<editformtype>normal</editformtype>
			<editenhancers>
				<editenhancer>
					<entity>zXTxtNew</entity>
					<attr>TPE</attr>
					<spellcheck>zNo</spellcheck>
					<fklookup>zNo</fklookup>
					<fkadd>zNo</fkadd>
					<editdependencies>
						<editdependency>
							<deptype>Restrict</deptype>
							<operator>0</operator>
							<value><![CDATA[Y]]></value>
							<fkfromattr><![CDATA[usrTpe]]></fkfromattr>
						</editdependency>
					</editdependencies>
				</editenhancer>
				<editenhancer>
					<entity>zXTxtNew</entity>
					<attr>RCVR</attr>
					<spellcheck>zNo</spellcheck>
					<fklookup>zNo</fklookup>
					<fkadd>zNo</fkadd>
					<editdependencies>
						<editdependency>
							<deptype>Disable</deptype>
							<depentity><![CDATA[zXTxtNew]]></depentity>
							<depattr><![CDATA[USRGRP]]></depattr>
							<operator>1</operator>
							<value><![CDATA['-']]></value>
						</editdependency>
					</editdependencies>
				</editenhancer>
				<editenhancer>
					<entity>zXTxtNew</entity>
					<attr>USRGRP</attr>
					<spellcheck>zNo</spellcheck>
					<fklookup>zNo</fklookup>
					<fkadd>zNo</fkadd>
					<editdependencies>
						<editdependency>
							<deptype>Disable</deptype>
							<depentity><![CDATA[zXTxtNew]]></depentity>
							<depattr><![CDATA[RCVR]]></depattr>
							<operator>1</operator>
							<value><![CDATA['-']]></value>
						</editdependency>
					</editdependencies>
				</editenhancer>
			</editenhancers>
		</action>
		<action type="zCreateUpdate">
			<helpid>zXTxt_cuNew_helpid</helpid>
			<name>cuNew</name>
			<entityaction>efNew</entityaction>
			<left>0</left>
			<top>0</top>
			<link>
				<action><![CDATA[nlNewEnd]]></action>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
			<linkededitform>efNew</linkededitform>
			<editformstartaction>
			</editformstartaction>
		</action>
		<action type="zNull">
			<helpid>zXTxt_nlNewEnd_helpid</helpid>
			<name>nlNewEnd</name>
			<left>0</left>
			<top>0</top>
			<link>
			</link>
			<formaction>
				<urltype>zAction</urltype>
			</formaction>
			<tags>
				<zXJavascript><![CDATA[#expr.if( eq(pf.qs("-ss"), "" ), concat("zXMMShow('", pf.qs("-s"), "')"), "top.window.close();" )]]></zXJavascript>
			</tags>
			<stickyqsaction></stickyqsaction>
			<cached>zNo</cached>
		</action>
	</actions>
</pageflow>
